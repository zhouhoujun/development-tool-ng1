{"version":3,"sources":["index.js","index.ts"],"names":["__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","_typeof","decorate","i","defineProperty","__metadata","k","v","metadata","_","require","development_core_1","clean_1","serve_1","test_1","WebDefine","_classCallCheck","this","_createClass","value","config","option","asserts","extend","ts","js","bindingConfig","ctx","findTasks","Clean","StartServer","KarmaTest","taskdefine","exports"],"mappings":"AAAA,+kBACIA,WAA0C,SAAUC,EAAYC,EAAQC,EAAKC,GAC7E,GAA2HC,GAAvHC,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIJ,EAAkB,OAATE,EAAgBA,EAAOM,OAAOC,yBAAyBT,EAAQC,GAAOC,CACrH,IAAuB,YAAnB,mBAAOQ,SAAP,YAAAC,QAAOD,WAAoD,kBAArBA,SAAQE,SAAyBL,EAAIG,QAAQE,SAASb,EAAYC,EAAQC,EAAKC,OACpH,KAAK,GAAIW,GAAId,EAAWO,OAAS,EAAGO,GAAK,EAAGA,KAASV,EAAIJ,EAAWc,MAAIN,GAAKH,EAAI,EAAID,EAAEI,GAAKH,EAAI,EAAID,EAAEH,EAAQC,EAAKM,GAAKJ,EAAEH,EAAQC,KAASM,EAChJ,OAAOH,GAAI,GAAKG,GAAKC,OAAOM,eAAed,EAAQC,EAAKM,GAAIA,GAE5DQ,WAA0C,SAAUC,EAAGC,GANvDnB,GAAc,YAAdA,mBAAAA,SAAAA,YAAAA,QAAAA,WAAoDC,kBAAzBD,SAAeoB,SAAsBlB,MAAQC,SAA9BiB,SAAyCF,EAAAC,ICA3EE,EAACC,QAAM,UACnBC,mBAAAD,QAA4F,oBAC5FE,QAAAF,QAAsB,iBACtBG,QAAAH,QAA8B,iBAC9BI,OAAAJ,QAA0B,gBAM1BK,UAAAA,WAAA,QAAAA,KAAAC,gBAAAC,KAAAF,GAAA,MAAAG,cAAAH,IAAAxB,IAAA,aAAA4B,MAAA,SACeC,GAQP,MANAA,GAAOC,OAAOC,QAAUb,EAAEc,QACtBC,GAAI,wBACJC,GAAI,yBACLL,EAAOC,OAAOC,SAGVX,mBAAAe,cAAcN,MAT7B7B,IAAA,QAAA4B,MAAA,SAYUQ,GACF,MAAOA,GAAIC,WACPhB,QAAAiB,MACAhB,QAAAiB,YACAhB,OAAAiB,gBAhBZhB,IADAA,WAAA3B,YAACuB,mBAAAqB,WAMWP,WAAAA,yBAF6BV,WAH5BkB,QAAAlB,UAASA","file":"../index.js","sourcesContent":["\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n/// <reference types=\"mocha\"/>\nconst _ = require('lodash');\nconst development_core_1 = require('development-core');\nconst clean_1 = require('./tasks/clean');\nconst serve_1 = require('./tasks/serve');\nconst test_1 = require('./tasks/test');\nlet WebDefine = class WebDefine {\n    getContext(config) {\n        // register default asserts.\n        config.option.asserts = _.extend({\n            ts: 'development-assert-ts',\n            js: 'development-assert-js'\n        }, config.option.asserts);\n        return development_core_1.bindingConfig(config);\n    }\n    tasks(ctx) {\n        return ctx.findTasks([\n            clean_1.Clean,\n            serve_1.StartServer,\n            test_1.KarmaTest\n        ]);\n        // return ctx.findTasksInDir(path.join(__dirname, './tasks'));\n    }\n};\nWebDefine = __decorate([\n    development_core_1.taskdefine, \n    __metadata('design:paramtypes', [])\n], WebDefine);\nexports.WebDefine = WebDefine;\n","/// <reference types=\"mocha\"/>\r\nimport * as _ from 'lodash';\r\nimport { ITask, ITaskConfig, bindingConfig, ITaskContext, IContextDefine, taskdefine } from 'development-core';\r\nimport { Clean } from './tasks/clean';\r\nimport {  StartServer  } from './tasks/serve';\r\nimport { KarmaTest } from './tasks/test';\r\n\r\nexport * from './WebTaskOption';\r\n\r\n\r\n@taskdefine\r\nexport class WebDefine implements IContextDefine {\r\n    getContext(config: ITaskConfig): ITaskContext {\r\n        // register default asserts.\r\n        config.option.asserts = _.extend({\r\n            ts: 'development-assert-ts',\r\n            js: 'development-assert-js'\r\n        }, config.option.asserts);\r\n\r\n\r\n        return bindingConfig(config);\r\n    }\r\n\r\n    tasks(ctx: ITaskContext): Promise<ITask[]> {\r\n        return ctx.findTasks([\r\n            Clean,\r\n            StartServer,\r\n            KarmaTest\r\n        ]);\r\n        // return ctx.findTasksInDir(path.join(__dirname, './tasks'));\r\n    }\r\n}\r\n"]}