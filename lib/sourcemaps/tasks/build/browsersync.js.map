{"version":3,"sources":["tasks/build/browsersync.ts"],"names":[],"mappings":";AAGA,MAAY,WAAW,WAAM,cAAc,CAAC,CAAA;AAG5C,iBAAS,CAAC,IAAU,EAAE,MAAkB;IACpC,IAAI,MAAM,GAAiC,MAAM,CAAC,MAAM,CAAC;IAEzD,IAAI,IAAI,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAA;IACxC,MAAM,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,IAAI;QACvC,MAAM,EAAE;YACJ,OAAO,EAAE,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC;SACzC;QACD,IAAI,EAAE,IAAI;QACV,IAAI,EAAE,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI;QAC9B,KAAK,EAAE,GAAG,IAAI,OAAO;KACxB,CAAC;IAEF,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,QAAsB;QAC5C,WAAW,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,GAAG,EAAE,EAAE;YACpC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACN,QAAQ,CAAM,GAAG,CAAC,CAAC;YACvB,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC;AACP,CAAC,CAAC","file":"../../../tasks/build/browsersync.js","sourcesContent":["import { Gulp, TaskCallback } from 'gulp';\r\nimport { TaskConfig } from 'development-tool';\r\nimport { WebTaskOption } from '../../task';\r\nimport * as browserSync from 'browser-sync';\r\n// const spa = require('browser-sync-spa');\r\n\r\nexport = (gulp: Gulp, config: TaskConfig) => {\r\n    let option: WebTaskOption = <WebTaskOption>config.option;\r\n\r\n    let dist = config.getDist(config.option)\r\n    option.browsersync = option.browsersync || {\r\n        server: {\r\n            baseDir: config.getDist(config.option)\r\n        },\r\n        open: true,\r\n        port: process.env.PORT || 3000,\r\n        files: `${dist}/**/*`\r\n    };\r\n\r\n    gulp.task('browsersync', (callback: TaskCallback) => {\r\n        browserSync(option.browsersync, (err, bs) => {\r\n            if (err) {\r\n                callback(<any>err);\r\n            }\r\n        });\r\n    });\r\n};\r\n"]}