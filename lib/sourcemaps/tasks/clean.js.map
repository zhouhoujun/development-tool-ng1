{"version":3,"sources":["tasks/clean.js","tasks/clean.ts"],"names":["__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","_typeof","decorate","i","defineProperty","__metadata","k","v","metadata","development_core_1","require","del","Clean","info","_classCallCheck","this","_createClass","value","name","ctx","gulp","getInfo","tkn","subTaskName","task","getSrc","order","oper","Operation","clean","default","exports"],"mappings":"AAAA,+kBACIA,WAA0C,SAAUC,EAAYC,EAAQC,EAAKC,GAC7E,GAA2HC,GAAvHC,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIJ,EAAkB,OAATE,EAAgBA,EAAOM,OAAOC,yBAAyBT,EAAQC,GAAOC,CACrH,IAAuB,YAAnB,mBAAOQ,SAAP,YAAAC,QAAOD,WAAoD,kBAArBA,SAAQE,SAAyBL,EAAIG,QAAQE,SAASb,EAAYC,EAAQC,EAAKC,OACpH,KAAK,GAAIW,GAAId,EAAWO,OAAS,EAAGO,GAAK,EAAGA,KAASV,EAAIJ,EAAWc,MAAIN,GAAKH,EAAI,EAAID,EAAEI,GAAKH,EAAI,EAAID,EAAEH,EAAQC,EAAKM,GAAKJ,EAAEH,EAAQC,KAASM,EAChJ,OAAOH,GAAI,GAAKG,GAAKC,OAAOM,eAAed,EAAQC,EAAKM,GAAIA,GAE5DQ,WAA0C,SAAUC,EAAGC,GANvDnB,GAAc,YAAdA,mBAAAA,SAAAA,YAAAA,QAAAA,WAAoDC,kBAAzBD,SAAeoB,SAAsBlB,MAAQC,SAA9BiB,SAAyCF,EAAAC,ICEvFE,mBAAAC,QAAgE,oBAE1DC,IAAMD,QAAQ,OAMpBE,MAAAA,WACI,QAAAA,GAAoBC,GAAeC,gBAAAC,KAAAH,GAAfG,KAAAF,KAAAA,EADxB,MAAAG,cAAAJ,IAAArB,IAAA,UAAA0B,MAAA,WAKQ,MADAF,MAAKF,KAAKK,KAAOH,KAAKF,KAAKK,MAAQ,YAC5BH,KAAKF,QALpBtB,IAAA,QAAA0B,MAAA,SAOUE,EAAmBC,GACrB,GAAIP,GAAOE,KAAKM,UACZC,EAAMH,EAAII,YAAYV,EAK1B,OAJAO,GAAKI,KAAKF,EAAK,WACX,MAAOX,KAAIQ,EAAIM,OAAOZ,MAGnBS,MAdfV,IAJAA,OAAAxB,YAACqB,mBAAAe,MACGE,MAAO,EACPC,KAAMlB,mBAAAmB,UAAUC,MAAQpB,mBAAAmB,UAAUE,UAEtCzB,WAAA,qBAAAP,UAAAc,OAAamB,QAAAnB,MAAKA","file":"../../tasks/clean.js","sourcesContent":["\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nconst development_core_1 = require('development-core');\nconst del = require('del');\nlet Clean = class Clean {\n    constructor(info) {\n        this.info = info;\n    }\n    getInfo() {\n        this.info.name = this.info.name || 'web-clean';\n        return this.info;\n    }\n    setup(ctx, gulp) {\n        let info = this.getInfo();\n        let tkn = ctx.subTaskName(info);\n        gulp.task(tkn, () => {\n            return del(ctx.getSrc(info));\n        });\n        return tkn;\n    }\n};\nClean = __decorate([\n    development_core_1.task({\n        order: 0,\n        oper: development_core_1.Operation.clean | development_core_1.Operation.default\n    }), \n    __metadata('design:paramtypes', [Object])\n], Clean);\nexports.Clean = Clean;\n","\r\nimport * as _ from 'lodash';\r\nimport { Gulp } from 'gulp';\r\nimport { ITask, ITaskInfo, Operation, task, ITaskContext } from 'development-core';\r\n\r\nconst del = require('del');\r\n\r\n@task({\r\n    order: 0,\r\n    oper: Operation.clean | Operation.default\r\n})\r\nexport class Clean implements ITask {\r\n    constructor(private info: ITaskInfo) {\r\n    }\r\n    getInfo() {\r\n        this.info.name = this.info.name || 'web-clean';\r\n        return this.info;\r\n    }\r\n    setup(ctx: ITaskContext, gulp: Gulp) {\r\n        let info = this.getInfo();\r\n        let tkn = ctx.subTaskName(info);\r\n        gulp.task(tkn, () => {\r\n            return del(ctx.getSrc(info));\r\n        });\r\n\r\n        return tkn;\r\n    }\r\n}\r\n\r\n"]}