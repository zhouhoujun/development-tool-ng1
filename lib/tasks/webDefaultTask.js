"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},__decorate=function(e,t,r,n){var o,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(a<3?o(c):a>3?o(t,r,c):o(t,r))||c);return a>3&&c&&Object.defineProperty(t,r,c),c},__metadata=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},development_core_1=require("development-core"),karma_1=require("karma"),path=require("path"),browserSync=require("browser-sync"),del=require("del"),WebDefaultTasks=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"tasks",value:function(){return[{name:"clean",order:0,oper:development_core_1.Operation.clean|development_core_1.Operation.default,task:function(e,t){return del(e.getSrc(t))}},{name:"test",oper:development_core_1.Operation.test|development_core_1.Operation.default,pipe:function(e,t,r,n,o){var a=t.option,c=a.karmaConfigFile||path.join(t.env.root,"./karma.conf.js");path.isAbsolute(c)||(c=path.join(t.env.root,c)),new karma_1.Server({configFile:c},o).start()},output:null}]}}]),e}();WebDefaultTasks=__decorate([development_core_1.dynamicTask,__metadata("design:paramtypes",[])],WebDefaultTasks),exports.WebDefaultTasks=WebDefaultTasks;var StartService=function(){function e(t){_classCallCheck(this,e),this.info=t}return _createClass(e,[{key:"getInfo",value:function(){return this.info}},{key:"setup",value:function(e,t){var r=e.option,n=e.getDist();r.browsersync=r.browsersync||{server:{baseDir:e.getDist()},open:!0,port:process.env.PORT||3e3,files:n+"/**/*"};var o=e.subTaskName("browsersync");return t.task(o,function(e){browserSync(r.browsersync,function(t,r){t&&e(t)})}),o}}]),e}();StartService=__decorate([development_core_1.task({group:"serve",oper:development_core_1.Operation.test|development_core_1.Operation.e2e|development_core_1.Operation.default}),__metadata("design:paramtypes",[Object])],StartService),exports.StartService=StartService;
//# sourceMappingURL=../sourcemaps/tasks/webDefaultTask.js.map
